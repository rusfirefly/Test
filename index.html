<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Your Game Title</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style>
        * { margin: 0; padding: 0; }
        html, body { width: 100%; height: 100%; }
        #gameContainer { width: 100%; height: 100%; }
        #loadingBar { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }
    </style>
</head>
<body>
    <div id="gameContainer">
        <canvas id="unity-canvas"></canvas>
        <div id="loadingBar">
            <progress value="0" max="1"></progress>
        </div>
    </div>

    <script>
        var buildUrl = "Build";
        var loaderUrl = buildUrl + "/your-game-loader-file.loader.js";
        var config = {
            dataUrl: buildUrl + "/your-game-data-file.data",
            frameworkUrl: buildUrl + "/your-game-framework.js",
            codeUrl: buildUrl + "/your-game-code.js",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "YourCompany",
            productName: "YourGame",
            productVersion: "1.0",
            
            // Настройки для Telegram
            devicePixelRatio: 1,
            matchWebGLToCanvasSize: true,
            disableContextMenu: true
        };

        // Инициализация Unity
        var script = document.createElement("script");
        script.src = loaderUrl;
        script.onload = () => {
            createUnityInstance(document.querySelector("#unity-canvas"), config, (progress) => {
                document.querySelector("#loadingBar progress").value = progress;
            }).then((unityInstance) => {
                document.querySelector("#loadingBar").style.display = "none";
                
                // Инициализация Telegram Web App
                if (typeof Telegram !== 'undefined') {
                    Telegram.WebApp.ready();
                    Telegram.WebApp.expand();
                    
                    // Пример передачи данных в Unity
                    unityInstance.SendMessage('TelegramManager', 'OnInit', JSON.stringify(Telegram.WebApp.initDataUnsafe));
                }
            });
        };
        document.body.appendChild(script);
    </script>
</body>
</html>